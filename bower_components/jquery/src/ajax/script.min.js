define(["../core","../ajax"],function(a){a.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(b){a.globalEval(b);return b}}});a.ajaxPrefilter("script",function(b){if(b.cache===undefined){b.cache=false}if(b.crossDomain){b.type="GET"}});a.ajaxTransport("script",function(c){if(c.crossDomain){var b,d;return{send:function(f,e){b=a("<script>").prop({async:true,charset:c.scriptCharset,src:c.url}).on("load error",d=function(g){b.remove();d=null;if(g){e(g.type==="error"?404:200,g.type)}});document.head.appendChild(b[0])},abort:function(){if(d){d()}}}}})});