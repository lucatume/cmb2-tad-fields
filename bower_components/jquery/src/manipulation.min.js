define(["./core","./var/concat","./var/push","./core/access","./manipulation/var/rcheckableType","./manipulation/support","./data/var/data_priv","./data/var/data_user","./core/init","./data/accepts","./traversing","./selector","./event"],function(m,g,i,e,r,l,x,a){var k=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,b=/<([\w:]+)/,s=/<|&#?\w+;/,d=/<(?:script|style|link)/i,h=/checked\s*(?:[^=]|=\s*.checked.)/i,j=/^$|\/(?:java|ecma)script/i,t=/^true\/(.*)/,c=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,n={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};n.optgroup=n.option;n.tbody=n.tfoot=n.colgroup=n.caption=n.thead;n.th=n.td;function w(z,y){return m.nodeName(z,"table")&&m.nodeName(y.nodeType!==11?y:y.firstChild,"tr")?z.getElementsByTagName("tbody")[0]||z.appendChild(z.ownerDocument.createElement("tbody")):z}function v(y){y.type=(y.getAttribute("type")!==null)+"/"+y.type;return y}function f(z){var y=t.exec(z.type);if(y){z.type=y[1]}else{z.removeAttribute("type")}return z}function u(z,B){var A=0,y=z.length;for(;A<y;A++){x.set(z[A],"globalEval",!B||x.get(B[A],"globalEval"))}}function p(y,G){var B,z,D,E,A,F,C,H;if(G.nodeType!==1){return}if(x.hasData(y)){E=x.access(y);A=x.set(G,E);H=E.events;if(H){delete A.handle;A.events={};for(D in H){for(B=0,z=H[D].length;B<z;B++){m.event.add(G,D,H[D][B])}}}}if(a.hasData(y)){F=a.access(y);C=m.extend({},F);a.set(G,C)}}function o(A,y){var z=A.getElementsByTagName?A.getElementsByTagName(y||"*"):A.querySelectorAll?A.querySelectorAll(y||"*"):[];return y===undefined||y&&m.nodeName(A,y)?m.merge([A],z):z}function q(z,y){var A=y.nodeName.toLowerCase();if(A==="input"&&r.test(z.type)){y.checked=z.checked}else{if(A==="input"||A==="textarea"){y.defaultValue=z.defaultValue}}}m.extend({clone:function(z,B,y){var C,A,E,D,G=z.cloneNode(true),F=m.contains(z.ownerDocument,z);if(!l.noCloneChecked&&(z.nodeType===1||z.nodeType===11)&&!m.isXMLDoc(z)){D=o(G);E=o(z);for(C=0,A=E.length;C<A;C++){q(E[C],D[C])}}if(B){if(y){E=E||o(z);D=D||o(G);for(C=0,A=E.length;C<A;C++){p(E[C],D[C])}}else{p(z,G)}}D=o(G,"script");if(D.length>0){u(D,!F&&o(z,"script"))}return G},buildFragment:function(z,B,F,K){var C,I,L,A,E,G,J=B.createDocumentFragment(),y=[],H=0,D=z.length;for(;H<D;H++){C=z[H];if(C||C===0){if(m.type(C)==="object"){m.merge(y,C.nodeType?[C]:C)}else{if(!s.test(C)){y.push(B.createTextNode(C))}else{I=I||J.appendChild(B.createElement("div"));L=(b.exec(C)||["",""])[1].toLowerCase();A=n[L]||n._default;I.innerHTML=A[1]+C.replace(k,"<$1></$2>")+A[2];G=A[0];while(G--){I=I.lastChild}m.merge(y,I.childNodes);I=J.firstChild;I.textContent=""}}}}J.textContent="";H=0;while((C=y[H++])){if(K&&m.inArray(C,K)!==-1){continue}E=m.contains(C.ownerDocument,C);I=o(J.appendChild(C),"script");if(E){u(I)}if(F){G=0;while((C=I[G++])){if(j.test(C.type||"")){F.push(C)}}}}return J},cleanData:function(y){var E,D,C,B,z=m.event.special,A=0;for(;(D=y[A])!==undefined;A++){if(m.acceptData(D)){B=D[x.expando];if(B&&(E=x.cache[B])){if(E.events){for(C in E.events){if(z[C]){m.event.remove(D,C)}else{m.removeEvent(D,C,E.handle)}}}if(x.cache[B]){delete x.cache[B]}}}delete a.cache[D[a.expando]]}}});m.fn.extend({text:function(y){return e(this,function(z){return z===undefined?m.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=z}})},null,y,arguments.length)},append:function(){return this.domManip(arguments,function(y){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var z=w(this,y);z.appendChild(y)}})},prepend:function(){return this.domManip(arguments,function(y){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var z=w(this,y);z.insertBefore(y,z.firstChild)}})},before:function(){return this.domManip(arguments,function(y){if(this.parentNode){this.parentNode.insertBefore(y,this)}})},after:function(){return this.domManip(arguments,function(y){if(this.parentNode){this.parentNode.insertBefore(y,this.nextSibling)}})},remove:function(y,C){var B,z=y?m.filter(y,this):this,A=0;for(;(B=z[A])!=null;A++){if(!C&&B.nodeType===1){m.cleanData(o(B))}if(B.parentNode){if(C&&m.contains(B.ownerDocument,B)){u(o(B,"script"))}B.parentNode.removeChild(B)}}return this},empty:function(){var z,y=0;for(;(z=this[y])!=null;y++){if(z.nodeType===1){m.cleanData(o(z,false));z.textContent=""}}return this},clone:function(z,y){z=z==null?false:z;y=y==null?z:y;return this.map(function(){return m.clone(this,z,y)})},html:function(y){return e(this,function(C){var B=this[0]||{},A=0,z=this.length;if(C===undefined&&B.nodeType===1){return B.innerHTML}if(typeof C==="string"&&!d.test(C)&&!n[(b.exec(C)||["",""])[1].toLowerCase()]){C=C.replace(k,"<$1></$2>");try{for(;A<z;A++){B=this[A]||{};if(B.nodeType===1){m.cleanData(o(B,false));B.innerHTML=C}}B=0}catch(D){}}if(B){this.empty().append(C)}},null,y,arguments.length)},replaceWith:function(){var y=arguments[0];this.domManip(arguments,function(z){y=this.parentNode;m.cleanData(o(this));if(y){y.replaceChild(z,this)}});return y&&(y.length||y.nodeType)?this:this.remove()},detach:function(y){return this.remove(y,true)},domManip:function(G,L){G=g.apply([],G);var F,E,C,y,A,J,D=0,B=this.length,I=this,K=B-1,H=G[0],z=m.isFunction(H);if(z||(B>1&&typeof H==="string"&&!l.checkClone&&h.test(H))){return this.each(function(N){var M=I.eq(N);if(z){G[0]=H.call(this,N,M.html())}M.domManip(G,L)})}if(B){F=m.buildFragment(G,this[0].ownerDocument,false,this);E=F.firstChild;if(F.childNodes.length===1){F=E}if(E){C=m.map(o(F,"script"),v);y=C.length;for(;D<B;D++){A=F;if(D!==K){A=m.clone(A,true,true);if(y){m.merge(C,o(A,"script"))}}L.call(this[D],A,D)}if(y){J=C[C.length-1].ownerDocument;m.map(C,f);for(D=0;D<y;D++){A=C[D];if(j.test(A.type||"")&&!x.access(A,"globalEval")&&m.contains(J,A)){if(A.src){if(m._evalUrl){m._evalUrl(A.src)}}else{m.globalEval(A.textContent.replace(c,""))}}}}}}return this}});m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(y,z){m.fn[y]=function(A){var B,C=[],F=m(A),E=F.length-1,D=0;for(;D<=E;D++){B=D===E?this:this.clone(true);m(F[D])[z](B);i.apply(C,B.get())}return this.pushStack(C)}});return m});