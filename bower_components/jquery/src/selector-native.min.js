define(["./core"],function(e){var b=window.document.documentElement,c,d=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.oMatchesSelector||b.msMatchesSelector,a=function(g,f){if(g===f){c=true;return 0}var h=f.compareDocumentPosition&&g.compareDocumentPosition&&g.compareDocumentPosition(f);if(h){if(h&1){if(g===document||e.contains(document,g)){return -1}if(f===document||e.contains(document,f)){return 1}return 0}return h&4?-1:1}return g.compareDocumentPosition?-1:1};e.extend({find:function(f,l,k,h){var m,g,j=0;k=k||[];l=l||document;if(!f||typeof f!=="string"){return k}if((g=l.nodeType)!==1&&g!==9){return[]}if(h){while((m=h[j++])){if(e.find.matchesSelector(m,f)){k.push(m)}}}else{e.merge(k,l.querySelectorAll(f))}return k},unique:function(h){var k,l=[],g=0,f=0;c=false;h.sort(a);if(c){while((k=h[g++])){if(k===h[g]){f=l.push(g)}}while(f--){h.splice(l[f],1)}}return h},text:function(k){var j,g="",h=0,f=k.nodeType;if(!f){while((j=k[h++])){g+=e.text(j)}}else{if(f===1||f===9||f===11){return k.textContent}else{if(f===3||f===4){return k.nodeValue}}}return g},contains:function(g,f){var i=g.nodeType===9?g.documentElement:g,h=f&&f.parentNode;return g===h||!!(h&&h.nodeType===1&&i.contains(h))},isXMLDoc:function(f){return(f.ownerDocument||f).documentElement.nodeName!=="HTML"},expr:{attrHandle:{},match:{bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]/}}});e.extend(e.find,{matches:function(g,f){return e.find(g,null,null,f)},matchesSelector:function(f,g){return d.call(f,g)},attr:function(g,f){return g.getAttribute(f)}})});